<!-- Hero Section -->
<div class="hero min-h-[70vh] bg-base-200 rounded-2xl mb-12 relative overflow-hidden" style="background-image: url(assets/images/langson-landscape.jpg); background-size: cover; background-position: center;">
  <div class="hero-overlay bg-gradient-to-b from-black/70 to-black/30 rounded-2xl"></div>
  <div class="hero-content text-center text-neutral-content z-10">
    <div class="max-w-lg animate-fade-in-up">
      <h1 class="mb-6 text-5xl md:text-6xl font-extrabold tracking-tight">Nông Sản Sạch </h1>
      <p class="mb-8 text-lg md:text-xl opacity-90">Khám phá hương vị tươi ngon từ những trang trại bền vững . Giao hàng tận nơi, chất lượng đảm bảo.</p>
      <div class="form-control mb-8 max-w-md mx-auto">
        <div class="relative">
          <input type="text" placeholder="Tìm kiếm rau củ, trái cây..." class="input input-bordered w-full pr-12 rounded-full shadow-lg focus:ring-2 focus:ring-primary transition-all" />
          <button class="absolute right-2 top-1/2 transform -translate-y-1/2 btn btn-primary btn-circle btn-sm">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
          </button>
        </div>
      </div>
      <a routerLink="/products" class="btn btn-primary btn-lg rounded-full shadow-lg hover:scale-105 transition-transform">Khám phá sản phẩm</a>
    </div>
  </div>
</div>

<!-- Featured Categories -->
<section class="mb-16 container mx-auto px-4">
  <h2 class="text-3xl font-bold text-center mb-8 animate-fade-in">Danh mục nổi bật</h2>
  <div *ngIf="isLoadingCategories()" class="text-center py-8"><app-loading-spinner></app-loading-spinner></div>
  <div *ngIf="!isLoadingCategories() && featuredCategories().length > 0" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
    <a *ngFor="let category of featuredCategories(); trackBy: trackCategoryById"
       [routerLink]="['/categories', category.slug]"
       class="card bg-base-100 shadow-md hover:shadow-xl transition-all duration-300 rounded-lg p-4 text-center transform hover:-translate-y-1">
      <figure class="w-20 h-20 mb-3 mx-auto">
        <img [src]="category.imageUrl || 'assets/images/placeholder-category.png'" [alt]="category.name" class="rounded-full object-cover border-2 border-primary/20">
      </figure>
      <span class="text-sm font-semibold text-base-content/90">{{ category.name }}</span>
    </a>
  </div>
</section>

<!-- Newest Products -->
<section class="mb-16 container mx-auto px-4">
  <div class="flex justify-between items-center mb-8">
    <h2 class="text-3xl font-bold animate-fade-in">Sản phẩm mới nhất</h2>
    <a routerLink="/products" class="btn btn-ghost btn-sm hover:bg-primary/10">Xem tất cả <span class="ml-1">→</span></a>
  </div>
  <div *ngIf="isLoadingProducts()" class="text-center py-12"><app-loading-spinner></app-loading-spinner></div>
  <div *ngIf="!isLoadingProducts() && newestProducts().length > 0" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <app-product-card *ngFor="let product of newestProducts(); trackBy: trackProductById" [product]="product" class="transform hover:scale-105 transition-transform duration-300"></app-product-card>
  </div>
  <div *ngIf="!isLoadingProducts() && newestProducts().length === 0" class="text-center py-12 text-base-content/60">
    Chưa có sản phẩm mới nào.
  </div>
</section>

<!-- Featured Farmers -->
<section class="mb-16 container mx-auto px-4">
  <div class="flex justify-between items-center mb-8">
    <h2 class="text-3xl font-bold animate-fade-in">Nông dân tiêu biểu</h2>
    <a routerLink="/farmers" class="btn btn-ghost btn-sm hover:bg-primary/10">Xem tất cả <span class="ml-1">→</span></a>
  </div>
  <div *ngIf="isLoadingFarmers()" class="text-center py-12"><app-loading-spinner></app-loading-spinner></div>
  <div *ngIf="!isLoadingFarmers() && featuredFarmers().length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <div *ngFor="let farmer of featuredFarmers()" class="card bg-base-100 shadow-lg hover:shadow-xl transition-all duration-300 rounded-lg overflow-hidden">
      <div class="card-body items-center text-center p-6">
        <div class="avatar mb-3">
          <div class="w-20 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
            <img [src]="farmer.avatarUrl || 'assets/images/default-avatar.png'" [alt]="farmer.farmName" class="object-cover">
          </div>
        </div>
        <h3 class="card-title text-lg font-semibold">{{ farmer.farmName }}</h3>
        <p class="text-sm text-base-content/70">{{ farmer.address }}</p>
        <div class="card-actions mt-4">
          <a [routerLink]="['/farmer', farmer.userId]" class="btn btn-sm btn-outline btn-primary rounded-full hover:bg-primary hover:text-white">Xem sản phẩm</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Introduction/Commitment Section -->
<section class="py-20 px-6 bg-gradient-to-br from-primary/10 via-emerald-50 to-teal-50 rounded-3xl mb-12 text-center shadow-inner">
  <div class="container mx-auto max-w-4xl">
    <h2 class="text-4xl md:text-5xl font-extrabold mb-6 text-primary animate-fade-in" style="text-shadow: 1px 1px 2px rgba(0, 128, 0, 0.1);">
      Nguồn Gốc Rõ Ràng - Chất Lượng Đảm Bảo
    </h2>
    <p class="mb-10 text-lg md:text-xl text-gray-700 leading-relaxed max-w-3xl mx-auto">
      AgriTrade tự hào kết nối bạn trực tiếp với những người nông dân tâm huyết. Chúng tôi mang đến nông sản tươi ngon, an toàn, được canh tác theo quy trình bền vững, minh bạch nguồn gốc.
    </p>
    <a routerLink="/about-us" class="btn btn-primary btn-lg rounded-full shadow-lg px-8 py-3 text-lg font-semibold btn-hover-effect">
      Tìm Hiểu Thêm Về Chúng Tôi
    </a>
  </div>
</section>

<style>
  /* Custom animations */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .animate-fade-in {
    animation: fadeIn 0.8s ease-out;
  }
</style>
