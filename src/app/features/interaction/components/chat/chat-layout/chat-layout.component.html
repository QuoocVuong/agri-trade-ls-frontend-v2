<div class="flex h-[calc(100vh-var(--header-height,4rem)-var(--main-padding,1.5rem)*2)] overflow-hidden"><!-- Chiều cao trừ đi header -->

  <!-- Chat List Sidebar (Ẩn trên mobile khi có phòng được chọn) -->
  <div class="w-full md:w-1/3 lg:w-1/4 border-r border-base-300 overflow-y-auto flex-shrink-0"
       [ngClass]="{'hidden md:block': !showMobileChatList(), 'block': showMobileChatList()}">
    <app-chat-list (roomSelected)="onRoomSelected($event)"></app-chat-list>
  </div>

  <!-- Message Area (Ẩn trên mobile khi chưa có phòng được chọn) -->
  <div class="flex-grow flex flex-col bg-base-100 overflow-hidden"
       [ngClass]="{'block': !showMobileChatList(), 'hidden md:flex': showMobileChatList()}">
    <ng-container *ngIf="selectedRoom(); else noChatSelected">
      <app-message-area [selectedRoom]="selectedRoom()" (backToList)="backToChatList()"></app-message-area>
    </ng-container>
    <ng-template #noChatSelected>
      <div class="flex-grow flex items-center justify-center text-base-content/50">
        <p>Chọn một cuộc trò chuyện để bắt đầu.</p>
      </div>
    </ng-template>
  </div>

</div>
